extends layout

block body
	div(class="container")
		div(class="row")
			div(class="col-md-6 col-md-offset-3")
				div(class="list-group")
					each row in articles
						a(href="#" class="list-group-item" data-toggle="collapse" data-target=`#collapse_${row.id}` aria-expanded="false" aria-controls=`collapse_${row.id}`)= row.title

						div(class="collapse" id=`collapse_${row.id}`) 
							div(class="well")
								blockquote
									p
										h5= row.body
								
								button(class="btn btn-primary btn-sm")
									span(class="glyphicon glyphicon-edit edit-article" aria-hidden="true")
								button(class="btn btn-danger btn-sm pull-right")
									span(class="glyphicon glyphicon-trash delete-article" aria-hidden="true" data-id=`${row.id}`)

				button(class="btn btn-primary btn-block" data-toggle="modal" data-target="#formModal") Add

				div(class="modal fade" id="formModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel")
					div(class="modal-dialog" role="document")
						form(method='POST' action='/add')
							div(class="modal-content")
								div(class="modal-header")
									button(type="button" class="close" data-dismiss="modal" aria-label="Close")
										span(aria-hidden="true") &times;
								div(class="modal-body") 
										div(class="form-group")
											input(class="form-control" type="text" name="title" placeholder="Title")

										div(class="form-group")
											textarea(class="form-control" name="body" rows="9")

								div(class="modal-footer")
									button(class="btn btn-warning" data-dismiss="modal") Close
									button(type="submit" class="btn btn-primary") Save								
